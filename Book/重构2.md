
### 1. 原则
- 移除局部变量。
- 格式化函数。
- 函数参数化。
- 性能问题延后考虑。
- 数据流转。
- 面向对象/设计模式。
- 小步。

### 2. 坏味道
- 对于可以立刻查阅的东西，故意不去记它。
- Brach By Abstracion ，兼容旧的逻辑，逐渐替换；并行修改，扩展协议。
- 需求+质量-->灵活性。
- 自测试、持续集成、重构。
- 优化代码，90%的代码很少被执行。
- 独立函数，小且短
- 形参->结构体
- 可变数据 包装
- switch-->多态
- 避免过大的类和函数
- 试着让所有的注释都变得多余

### 3. 自测
* 类应该包含自己的测试代码
* 测试是一种风险驱动的行为
* 探测边界


### 4. 优化

* 提炼函数： 一块需要花时间阅读的代码 --> 一眼能看出用途的函数
* 内联函数：反向提炼
* 提炼变量： 便于调试，对于类更应该提炼为方法
* 函数改名：迁移式改法
* 数据封装：                
	 不可变性是强大的代码防腐剂
	 取值函数中返回数据的副本
* 参数对象：
* 函数组合为类：动态语言可以 function as object
* 函数组合为函数：抽象出相同的代码，内容作为形参
* 拆分函数：多阶段拆分，减少形参列表


### 5.封装

- 记录型结构
- 封装读写接口，返回只读
- 避免直接修改集合
- 引用对象 --> 值对象
- 临时变量 --> 查询
- 从旧类访问新类
- 删除冗余，内联到其他类
- 代理、内联
- 算法替换，整体封装

### 6.搬移特性

- 模块化
	 随着代码理解的加深，需要不断地对模块设计进行迭代，就要不停地搬移软件组织
- 数据结构
	 类只是一种多了实例函数的记录，对象
- 扩充函数整体/提炼函数
- 局部变量的声明位置
- 集合管道(filter + map) --> 遍历 
- 删掉死代码

### 6.重组数据

- 移除参数赋值
	 多次赋值 --> 创建多个变量
	 返回形参的赋值 --> 创建局部变量
- 查询取代派生
- 值对象(多) <--> 引用对象(唯一)   复制和修改
- 

